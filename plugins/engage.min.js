/*!
 * widgets
 * @version: 9.0.005.00
 * @license: Genesys Telecom Labs
 */
webpackJsonp([20],{"./webapp/plugins/cx-engage/cx-engage.js":function(e,n,o){"use strict";var t,c;t=[o("./webapp/lib/thirdparty/jquery-3.2.1.js"),o("./webapp/plugins/cx-common/cx-common.js")],void 0!==(c=function(e,n){var o=CXBus.registerPlugin("Engage");if(o.registerEvents(["ready"]),o){var t,c=!1,i=e(),r=function(e,n){o.command("Toaster.close").done(function(i){c=!1,clearTimeout(t),n.deferred.resolve("accepted"),e.command&&o.command(e.command,e.options)})},a=function(e){clearTimeout(t),o.command("Toaster.close").done(function(n){c=!1,e.deferred.resolve("declined")})},d=function(e){c=!1,clearTimeout(t),e.deferred.resolve("closed")},s=function(e,n){t=setTimeout(function(){o.command("Toaster.close").done(function(e){c=!1,n.deferred.resolve("timeout")})},e.timeout)};o.registerCommand("invite",function(t){var u=t.data;u&&(u=n.convertI18nQueriesInJSON(u),c||o.command("Toaster.open",{type:"generic",title:u.title,body:u.body,controls:"close",buttons:{type:"binary",primary:u.accept,secondary:u.decline}}).done(function(n){c=!0,n.html&&(i=e(n.html),i.find(".cx-btn.cx-btn-primary").on("click",function(){r(u,t)}),i.find(".cx-btn.cx-btn-default").on("click",function(){a(t)}),i.find(".cx-icon.cx-button-close").on("click",function(){d(t)}),void 0!=u.timeout&&u.timeout>0&&s(u,t))}).fail(function(e){}))}),o.ready(),o.republish("ready")}}.apply(n,t))&&(e.exports=c)}},["./webapp/plugins/cx-engage/cx-engage.js"]);